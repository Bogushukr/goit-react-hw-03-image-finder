(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Spinner:"Loader_Spinner__2ftL9",Spinner__overlay:"Loader_Spinner__overlay__1r-Qz",Spinner__roller:"Loader_Spinner__roller__38B0w"}},13:function(e,t,a){e.exports={app:"App_app__FGAjy",loader:"App_loader__OwvbE"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3tNJd",Modal:"Modal_Modal__A3pOG"}},15:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__18mVf",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__j1XjU"}},16:function(e,t,a){e.exports={buttonContainer:"Button_buttonContainer__2iYaM",button:"Button_button__2F9aI"}},27:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3AUmD"}},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__b9g06",searchForm:"Searchbar_searchForm__K8y0q",searchFormButton:"Searchbar_searchFormButton__P77U6",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2DG92",searchFormInput:"Searchbar_searchFormInput__1X4jn"}},53:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),o=a(3),c=a(26),i=a(5),s=a.n(i),l=a(17),u=a(12),d=a(6),h=a(7),m=a(9),b=a(8),p=a(13),j=a.n(p),g=a(14),f=a.n(g),_=a(0),v=document.querySelector("#modal-root"),O=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(_.jsx)("div",{className:f.a.Overlay,onClick:this.handleOverlayClick,children:Object(_.jsx)("div",{className:f.a.Modal,children:Object(_.jsx)("img",{src:this.props.bigPickUrl,alt:this.props.bigPickUrl.id})})}),v)}}]),a}(n.a.Component),y=a(4),x=a.n(y),S=function(e){var t=e.state.queryWord,a=e.handleChange,r=e.onSearch;return Object(_.jsx)("header",{className:x.a.searchbar,children:Object(_.jsxs)("form",{className:x.a.searchForm,children:[Object(_.jsx)("button",{onClick:r,type:"submit",className:x.a.searchFormButton,children:Object(_.jsx)("span",{className:x.a.SearchFormButtonLabel,children:"Search"})}),Object(_.jsx)("input",{onChange:a,className:x.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:t})]})})},w=a(27),M=a.n(w),N=a(15),k=a.n(N),I=function(e){var t=e.data;return Object(_.jsx)(_.Fragment,{children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.tags;return Object(_.jsx)("li",{className:k.a.imageGalleryItem,children:Object(_.jsx)("img",{src:a,alt:r,className:k.a.imageGalleryItemImage})},t)}))})},C=function(e){return Object(_.jsx)("ul",{onClick:e.openModal,className:M.a.imageGallery,children:Object(_.jsx)(I,{data:e.state.data})})},L=a(16),P=a.n(L),F=function(e){return Object(_.jsx)("div",{className:P.a.buttonContainer,children:Object(_.jsx)("button",{onClick:e.loadMoreButton,className:P.a.button,type:"button",children:"Load More"})})},G=a(10),B=a.n(G),U=document.querySelector("#front-root");var D=function(){return Object(o.createPortal)(Object(_.jsx)("div",{className:B.a.Spinner,children:Object(_.jsx)("div",{className:B.a.Spinner__overlay,children:Object(_.jsxs)("div",{className:B.a.Spinner__roller,children:[Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{})]})})}),U)},q=a(28),W=a.n(q),A=function(e){var t=e.queryWord,a=void 0===t?"":t,r=e.pageNumber,n=void 0===r?1:r,o=e.itemsPerPage,c=void 0===o?12:o;return W.a.get("".concat("https://pixabay.com/api/","?q=").concat(a,"&page=").concat(n,"&key=").concat("21129448-e17c8b1f4b436f5a4360c1592","&image_type=photo&orientation=horizontal&per_page=").concat(c)).then((function(e){return e.data}))},E=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!1,showModal:!1,queryWord:"",itemsPerPage:12,pageNumber:1,bigPicUrl:"",data:[]},e.getData=Object(u.a)(s.a.mark((function t(){var a,r,n,o,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.queryWord,n=a.pageNumber,o=a.itemsPerPage,c={queryWord:r,pageNumber:n,itemsPerPage:o},t.prev=2,e.setState({isLoading:!0}),t.next=6,A(c);case 6:i=t.sent,e.setState((function(e){return{data:[].concat(Object(l.a)(e.data),Object(l.a)(i.hits)),smallPickList:i.hits.map((function(e){return e.webformatURL})),pageNumber:e.pageNumber+1}})),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:return t.prev=13,e.setState({isLoading:!1}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])}))),e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.openModal=function(t){t.preventDefault();var a={};"IMG"===t.target.nodeName&&(a=e.state.data.find((function(e){return e.webformatURL===t.target.src}))),e.setState((function(){return{bigPickUrl:a.largeImageURL}})),e.toggleModal()},e.handleChange=function(t){var a=t.currentTarget.value;e.setState({queryWord:a,pageNumber:1,data:[]})},e.onSearch=function(t){t.preventDefault(),e.setState(Object(c.a)({},e.state.queryWord,t.currentTarget.value)),e.getData()},e.loadMoreButton=function(){var t=Object(u.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.getData();case 3:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.showModal,a=e.isLoading;return Object(_.jsxs)("div",{className:j.a.app,children:[Object(_.jsx)(S,{handleChange:this.handleChange,onSearch:this.onSearch,state:this.state}),a&&Object(_.jsx)("div",{className:j.a.loader,children:Object(_.jsx)(D,{type:"Puff",color:"#3f51b5",height:100,width:100,timeout:1e3})}),Object(_.jsx)(C,{state:this.state,toggleModal:this.toggleModal,openModal:this.openModal}),t&&Object(_.jsx)(O,{onClose:this.toggleModal,data:this.state.data,bigPickUrl:this.state.bigPickUrl}),this.state.data.length>0&&!this.state.isLoading&&Object(_.jsx)(F,{loadMoreButton:this.loadMoreButton})]})}}]),a}(n.a.Component);o.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(E,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.76e282ef.chunk.js.map